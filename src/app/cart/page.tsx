"use client";

import { useRecoilState } from "recoil";
import { cartState } from "@/recoil/atoms";
import Notice from "@/components/common/Notice";
import Header from "@/components/Cart/Header";
import CartList from "@/components/Cart/CartList";
import Summary from "@/components/Cart/Summary";
import styles from "./page.module.css";
import Button from "@/components/common/Button";

export default function Page() {
  const cart = useRecoilState(cartState);
  const numCoursesInCart = cart[0].length;

  return numCoursesInCart === 0 ? (
    <div className={styles.cart__empty}>
      <Notice
        header="Your cart is empty!"
        description="Add a course to make you happy(?)"
      >
        <svg
          width="150"
          height="150"
          version="1.1"
          viewBox="0 0 700 700"
          xmlns="http://www.w3.org/2000/svg"
          className={styles.coursedetails__svg}
        >
          <path d="m623.44 76.562h-546.88c-30.188 0-54.688 24.5-54.688 54.688v437.5c0 30.188 24.5 54.688 54.688 54.688h546.88c30.188 0 54.688-24.5 54.688-54.688v-437.5c0-30.188-24.5-54.688-54.688-54.688zm32.812 54.688v54.688h-204.09l26.25-87.5h145.03c18.047 0 32.812 14.766 32.812 32.812zm-579.69-32.812h379.09l-26.25 87.5h-385.66v-54.688c0-18.047 14.766-32.812 32.812-32.812zm120.86 503.12c2.5156-12.469 13.453-21.875 26.688-21.875h262.83c13.125 0 24.172 9.4062 26.688 21.875zm-11.484-153.12h-21.875c-6.0156 0-10.938-4.9219-10.938-10.938v-65.625c0-6.0156 4.9219-10.938 10.938-10.938h21.875zm21.875-120.31c0-12.031 9.8438-21.875 21.875-21.875h240.62c12.031 0 21.875 9.8438 21.875 21.875v153.12c0 12.031-9.8438 21.875-21.875 21.875h-240.62c-12.031 0-21.875-9.8438-21.875-21.875zm78.531-43.75c4.4844-12.688 16.516-21.875 30.844-21.875h65.625c14.219 0 26.25 9.1875 30.844 21.875zm227.72 76.562h21.875c6.0156 0 10.938 4.9219 10.938 10.938v65.625c0 6.0156-4.9219 10.938-10.938 10.938h-21.875zm-209.78 164.06h91.438l6.5625 32.812h-104.56zm319.16 76.562h-88.047c-2.625-24.5-23.297-43.75-48.453-43.75h-62.344l-6.5625-32.812h52.281c24.172 0 43.75-19.578 43.75-43.75v-10.938h21.875c18.047 0 32.812-14.766 32.812-32.812v-65.625c0-18.047-14.766-32.812-32.812-32.812h-21.875v-10.938c0-24.172-19.578-43.75-43.75-43.75h-33.906c-5.0312-24.938-27.125-43.75-53.594-43.75h-65.625c-26.359 0-48.453 18.812-53.594 43.75h-33.906c-24.172 0-43.75 19.578-43.75 43.75v10.938h-21.875c-18.047 0-32.812 14.766-32.812 32.812v65.625c0 18.047 14.766 32.812 32.812 32.812h21.875v10.938c0 24.172 19.578 43.75 43.75 43.75h52.281l-6.5625 32.812h-51.406c-25.266 0-45.828 19.25-48.453 43.75h-98.984c-18.047 0-32.812-14.766-32.812-32.812v-360.94h612.5v360.94c0 18.047-14.766 32.812-32.812 32.812z" />
          <path d="m612.17 142.73c0 12.082-9.793 21.875-21.875 21.875s-21.875-9.793-21.875-21.875 9.793-21.875 21.875-21.875 21.875 9.793 21.875 21.875" />
          <path d="m546.88 142.73c0 12.082-9.793 21.875-21.875 21.875s-21.875-9.793-21.875-21.875 9.793-21.875 21.875-21.875 21.875 9.793 21.875 21.875" />
          <path d="m98.438 153.67h273.44c6.0156 0 10.938-4.9219 10.938-10.938s-4.9219-10.938-10.938-10.938h-273.44c-6.0156 0-10.938 4.9219-10.938 10.938s4.9219 10.938 10.938 10.938z" />
          <path d="m260.31 397.03c2.1875 2.1875 4.9219 3.1719 7.7656 3.1719s5.5781-1.0938 7.7656-3.1719l15.312-15.312 15.312 15.312c2.1875 2.1875 4.9219 3.1719 7.7656 3.1719s5.5781-1.0938 7.7656-3.1719c4.2656-4.2656 4.2656-11.156 0-15.422l-15.312-15.312 15.312-15.312c4.2656-4.2656 4.2656-11.156 0-15.422s-11.156-4.2656-15.422 0l-15.312 15.312-15.312-15.312c-4.2656-4.2656-11.156-4.2656-15.422 0s-4.2656 11.156 0 15.422l15.312 15.312-15.312 15.312c-4.4844 4.2656-4.4844 11.156-0.21875 15.422z" />
          <path d="m378.11 397.03c2.1875 2.1875 4.9219 3.1719 7.7656 3.1719s5.5781-1.0938 7.7656-3.1719l15.312-15.312 15.312 15.312c2.1875 2.1875 4.9219 3.1719 7.7656 3.1719s5.4688-0.98438 7.6562-3.1719c4.2656-4.2656 4.2656-11.156 0-15.422l-15.312-15.312 15.312-15.312c4.2656-4.2656 4.2656-11.156 0-15.422s-11.156-4.2656-15.422 0l-15.312 15.312-15.312-15.312c-4.2656-4.2656-11.156-4.2656-15.422 0s-4.2656 11.156 0 15.422l15.312 15.312-15.312 15.312c-4.375 4.2656-4.375 11.156-0.10938 15.422z" />
          <path d="m269.28 460.03c-3.2812 5.0312-1.9688 11.703 2.9531 15.094s11.703 2.0781 15.203-2.8438c0.76562-1.0938 18.484-25.922 62.672-25.922s61.906 24.828 62.562 25.812c2.0781 3.1719 5.5781 4.9219 9.0781 4.9219 2.0781 0 4.1562-0.54688 6.0156-1.8594 5.0312-3.3906 6.3438-10.172 3.0625-15.203-0.98438-1.4219-24.391-35.547-80.719-35.547s-79.953 34.125-80.828 35.547z" />
        </svg>
      </Notice>
      <Button text="Continue shopping" href="/courses" />
    </div>
  ) : (
    <div className={styles.cart}>
      <Header />
      <hr />
      <div className={styles.cart_details}>
        <CartList />
        <Summary />
      </div>
    </div>
  );
}
